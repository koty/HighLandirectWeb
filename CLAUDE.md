# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

HighLandirect Webç‰ˆ - React + CloudFlare D1 + MUIã‚’ä½¿ç”¨ã—ãŸé…é€ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®WebåŒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

## Development Commands

### åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰
```bash
npm run dev          # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (port 3000)
npm run build        # ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run preview      # ãƒ“ãƒ«ãƒ‰çµæœã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
npm run deploy       # CloudFlare Pages ãƒ‡ãƒ—ãƒ­ã‚¤
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ï¼‰
```bash
# 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run dev          # port 3000

# 2. ãƒ­ãƒ¼ã‚«ãƒ«API + D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
npx wrangler dev worker-local.js --config=wrangler-dev.toml --port=8788

# ä¸¡æ–¹ã‚’åŒæ™‚èµ·å‹•ã™ã‚‹ã“ã¨ã§ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºãŒå¯èƒ½
# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ â†’ API â†’ ãƒ­ãƒ¼ã‚«ãƒ«SQLite ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
```

### å“è³ªç®¡ç†ãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯
```bash
npm run lint         # ESLintå®Ÿè¡Œï¼ˆã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ï¼‰
npm run lint:fix     # ESLintè‡ªå‹•ä¿®æ­£
npm run type-check   # TypeScriptå‹ãƒã‚§ãƒƒã‚¯
npm run security-check # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œã®ã¿è¡¨ç¤º
```

### CloudFlare D1 Database

#### æœ¬ç•ªç’°å¢ƒï¼ˆãƒªãƒ¢ãƒ¼ãƒˆï¼‰
```bash
# æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
npx wrangler d1 execute highlandirect-db --file=migration/schema.sql --remote  # ã‚¹ã‚­ãƒ¼ãƒé©ç”¨
npx wrangler d1 execute highlandirect-db --file=migration/seed.sql --remote    # åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
npx wrangler d1 execute highlandirect-db --command="SELECT COUNT(*) FROM 'Order'" --remote  # ãƒ‡ãƒ¼ã‚¿ç¢ºèª
```

#### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ
```bash
# ãƒ­ãƒ¼ã‚«ãƒ«D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–
npx wrangler d1 create highlandirect-local  # ãƒ­ãƒ¼ã‚«ãƒ«DBä½œæˆ
npx wrangler d1 execute highlandirect-local --file=migration/schema.sql --config=wrangler-dev.toml  # ã‚¹ã‚­ãƒ¼ãƒé©ç”¨
npx wrangler d1 execute highlandirect-local --file=migration/seed.sql --config=wrangler-dev.toml    # åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥

# ãƒ‡ãƒ¼ã‚¿ç¢ºèª
npx wrangler d1 execute highlandirect-local --command="SELECT COUNT(*) FROM Shipper" --config=wrangler-dev.toml
```

## Architecture Overview

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ§‹æˆ
- **React 18** + **TypeScript** + **Vite**
- **Material-UI (MUI)** - UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **React Router** - SPA ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **React Query** - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹ç®¡ç†
- **React Hook Form + Yup** - ãƒ•ã‚©ãƒ¼ãƒ ç®¡ç†ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **wanakana** - æ—¥æœ¬èªãµã‚ŠãŒãªè‡ªå‹•ç”Ÿæˆ
- **ESLint + Security Plugin** - ã‚³ãƒ¼ãƒ‰å“è³ªãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æ§‹æˆ
- **CloudFlare Pages Functions** - ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ APIï¼ˆfunctions/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
- **CloudFlare D1** - SQLite ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆé‹ç”¨ä¸­ï¼‰
- **D1 Database**: `highlandirect-db` (ID: 4c827b08-7b7c-484e-9d3b-6e6a153842bb)

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
â”œâ”€â”€ src/                    # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ api/client.ts       # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè¨­å®š
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Layout/         # å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â””â”€â”€ AddressForm.tsx # ä½æ‰€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãµã‚ŠãŒãªè‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ä»˜ãï¼‰
â”‚   â”œâ”€â”€ data/mockData.ts    # é–‹ç™ºç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ pages/              # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx   # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ Orders/         # æ³¨æ–‡ç®¡ç†ï¼ˆAPIé€£æºæ¸ˆã¿ï¼‰
â”‚   â”‚   â”œâ”€â”€ Shippers/       # è·ä¸»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Consignees/     # é€ä»˜å…ˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Products/       # å•†å“ç®¡ç†
â”‚   â”‚   â””â”€â”€ Stores/         # é›†é…æ‰€ç®¡ç†
â”‚   â”œâ”€â”€ types/index.ts      # TypeScriptå‹å®šç¾©
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ furigana.ts     # ãµã‚ŠãŒãªè‡ªå‹•ç”Ÿæˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆwanakana + è¾æ›¸ï¼‰
â”‚   â”‚   â””â”€â”€ postalCodeApi.ts # éƒµä¾¿ç•ªå·æ¤œç´¢ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ theme.ts            # MUIãƒ†ãƒ¼ãƒè¨­å®š
â”œâ”€â”€ functions/              # CloudFlare Pages Functions (ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API - æœ¬ç•ªç”¨)
â”‚   â”œâ”€â”€ types.ts            # TypeScriptå‹å®šç¾©ï¼ˆCloudFlare D1, Pages Functionsï¼‰
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ health.ts       # ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
â”‚       â”œâ”€â”€ orders.ts       # æ³¨æ–‡ç®¡ç†APIï¼ˆD1é€£æºæ¸ˆã¿ï¼‰
â”‚       â”œâ”€â”€ shippers.ts     # è·ä¸»ç®¡ç†APIï¼ˆD1é€£æºæ¸ˆã¿ï¼‰
â”‚       â”œâ”€â”€ consignees.ts   # é€ä»˜å…ˆç®¡ç†APIï¼ˆD1é€£æºæ¸ˆã¿ï¼‰
â”‚       â”œâ”€â”€ products.ts     # å•†å“ç®¡ç†APIï¼ˆD1é€£æºæ¸ˆã¿ï¼‰
â”‚       â”œâ”€â”€ stores.ts       # é›†é…æ‰€ç®¡ç†APIï¼ˆD1é€£æºæ¸ˆã¿ï¼‰
â”‚       â””â”€â”€ postal/
â”‚           â””â”€â”€ search/
â”‚               â””â”€â”€ [zipcode].ts  # éƒµä¾¿ç•ªå·æ¤œç´¢APIï¼ˆæ—¥æœ¬éƒµä¾¿APIé€£æºï¼‰
â”œâ”€â”€ worker-local.js         # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨CloudFlare Worker
â”œâ”€â”€ wrangler.toml           # CloudFlare D1è¨­å®šï¼ˆæœ¬ç•ªç”¨ï¼‰
â”œâ”€â”€ wrangler-dev.toml       # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨è¨­å®š
â”œâ”€â”€ migration/              # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£
â”‚   â”œâ”€â”€ schema.sql          # D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
â”‚   â”œâ”€â”€ seed.sql            # åˆæœŸãƒ‡ãƒ¼ã‚¿
â”‚   â””â”€â”€ README.md           # ç§»è¡Œæ‰‹é †
â””â”€â”€ .wrangler/              # ãƒ­ãƒ¼ã‚«ãƒ«D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆSQLiteï¼‰
```

## Database Design

### ä¸»è¦ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£é–¢ä¿‚
```
Address (ä½æ‰€ä¸€å…ƒç®¡ç†)
â”œâ”€â”€ Shipper (è·ä¸»: LatestSendã‚ã‚Šã®é¡§å®¢)
â”œâ”€â”€ Consignee (é€ä»˜å…ˆ: LatestResceiveã‚ã‚Šã®é¡§å®¢)
â””â”€â”€ Store (é›†é…æ‰€: ãƒ¤ãƒãƒˆé‹è¼¸ç­‰)

Order (æ³¨æ–‡)
â”œâ”€â”€ FK: ShipperId
â”œâ”€â”€ FK: ConsigneeId  
â”œâ”€â”€ FK: ProductId
â””â”€â”€ FK: StoreId
```

### ç§»è¡Œãƒ«ãƒ¼ãƒ«ï¼ˆSQL CE â†’ SQLiteï¼‰
- **å…¨é¡§å®¢** â†’ Address ãƒ†ãƒ¼ãƒ–ãƒ«
- **LatestSendæœ‰ã‚Š** â†’ Shipper ãƒ†ãƒ¼ãƒ–ãƒ«
- **LatestResceiveæœ‰ã‚Š** â†’ Consignee ãƒ†ãƒ¼ãƒ–ãƒ«
- Store ã¯é›†é…æ‰€å°‚ç”¨ãƒã‚¹ã‚¿ï¼ˆAddressã¨åˆ†é›¢ï¼‰

## Important Implementation Notes

### APIè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³
- **CloudFlare Pages Functions** ã§ REST APIå®Ÿè£…
- CORSå¯¾å¿œæ¸ˆã¿ï¼ˆå…¨APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¯¾å¿œ
- API Base URL: `/api/` prefix for all endpoints

### React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
- TypeScript strict mode with path aliases (`@/` points to `src/`)
- MUI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆçµ±ä¸€ (Material-UI v5)
- React Hook Form + Yup ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **æ³¨æ–‡ç®¡ç†**: APIé€£æºå®Œäº†ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ CRUDï¼‰
- **ãã®ä»–ãƒšãƒ¼ã‚¸**: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã§å‹•ä½œä¸­

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æº
- **CloudFlare D1**: `highlandirect-db` ãƒªãƒ¢ãƒ¼ãƒˆé‹ç”¨ä¸­
- **å®Ÿè£…æ¸ˆã¿API**: å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å¯¾å¿œï¼ˆTypeScriptå®Œå…¨ç§»è¡Œæ¸ˆã¿ï¼‰
  - `/api/health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
  - `/api/orders` - æ³¨æ–‡ç®¡ç†ï¼ˆGET/POSTã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
  - `/api/shippers` - è·ä¸»ç®¡ç†ï¼ˆGET/POSTã€Address JOINã€æ¤œç´¢æ©Ÿèƒ½ï¼‰
  - `/api/consignees` - é€ä»˜å…ˆç®¡ç†ï¼ˆGET/POSTã€Address JOINã€æ¤œç´¢æ©Ÿèƒ½ï¼‰
  - `/api/products` - å•†å“ç®¡ç†ï¼ˆGET/POSTã€ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ•ã‚£ãƒ«ã‚¿ï¼‰
  - `/api/stores` - é›†é…æ‰€ç®¡ç†ï¼ˆGET/POSTã€é‹é€æ¥­è€…ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¨ãƒªã‚¢æ¤œç´¢ï¼‰
  - `/api/postal/search/[zipcode]` - éƒµä¾¿ç•ªå·æ¤œç´¢ï¼ˆæ—¥æœ¬éƒµä¾¿APIé€£æºã€ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰
- **JOINã‚¯ã‚¨ãƒª**: Address â† Shipper/Consignee â† Order
- **åˆæœŸãƒ‡ãƒ¼ã‚¿**: 3ä»¶ã®æ³¨æ–‡ã€é–¢é€£ã™ã‚‹è·ä¸»ãƒ»é€ä»˜å…ˆãƒ»å•†å“ãƒ»é›†é…æ‰€
- D1 bindingè¨­å®š: å¤‰æ•°å `DB`

## Future Features

### å°åˆ·æ©Ÿèƒ½
- ãƒ¤ãƒãƒˆB2 APIé€£æºäºˆå®š
- ç¾åœ¨ã¯æœªå®Ÿè£…ï¼ˆTODO ã‚³ãƒ¡ãƒ³ãƒˆæœ‰ã‚Šï¼‰

### æ‹¡å¼µäºˆå®šæ©Ÿèƒ½  
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãƒ»æ¨©é™ç®¡ç†
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥
- é…é€çŠ¶æ³è¿½è·¡
- ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½å¼·åŒ–

## Migration Tools

### ãƒ‡ãƒ¼ã‚¿ç§»è¡Œ
```bash
# Pythonç‰ˆï¼ˆæ¨å¥¨ï¼‰
cd migration
python migrate.py --sqlce-path "MyData.sdf" --sqlite-path "new.sqlite"

# C#ç‰ˆ
MigrationTool.exe "MyData.sdf" "new.sqlite"
```

ç§»è¡Œãƒ„ãƒ¼ãƒ«ã¯ `migration/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®æ¸ˆã¿

## é–‹ç™ºé€²æ—å±¥æ­´

### Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»ç§»è¡Œãƒ„ãƒ¼ãƒ«ä½œæˆ âœ…å®Œäº†
- [x] æ—¢å­˜WPFã‚¢ãƒ—ãƒªã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ åˆ†æï¼ˆSQL Server Compact Editionï¼‰
- [x] æ–°è¨­è¨ˆã«ã‚ˆã‚‹ERå›³ä½œæˆï¼ˆä½æ‰€ä¸€å…ƒç®¡ç†ãƒ»è·ä¸»/é€ä»˜å…ˆåˆ†é›¢ï¼‰
- [x] SQLiteã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆï¼ˆCloudFlare D1å¯¾å¿œï¼‰
- [x] Python/C#ãƒ‡ãƒ¼ã‚¿ç§»è¡Œãƒ„ãƒ¼ãƒ«ä½œæˆ
- [x] ç§»è¡Œãƒ­ã‚¸ãƒƒã‚¯ä¿®æ­£ï¼ˆLatestSend/LatestResceiveæ¡ä»¶ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
- [x] Storeè¨­è¨ˆä¿®æ­£ï¼ˆé›†é…æ‰€å°‚ç”¨ãƒã‚¹ã‚¿ã€Addressã¨ã®é–¢é€£åˆ‡ã‚Šé›¢ã—ï¼‰

### Phase 2: React Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ âœ…å®Œäº†
- [x] Vite + React + TypeScript + MUI ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–
- [x] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®Ÿè£…ï¼ˆã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- [x] TypeScriptå‹å®šç¾©æ•´å‚™ï¼ˆå…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£å¯¾å¿œï¼‰
- [x] React Routerè¨­å®šï¼ˆå…¨ç”»é¢é·ç§»ï¼‰
- [x] MUIãƒ†ãƒ¼ãƒãƒ»æ—¥æœ¬èªåŒ–è¨­å®š

### Phase 3: CloudFlare Workers APIå®Ÿè£… âœ…å®Œäº†
- [x] itty-routerä½¿ç”¨ã®REST APIè¨­è¨ˆ
- [x] CORSå¯¾å¿œãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°çµ±ä¸€
- [x] D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é€£æºï¼ˆOrders, Shippers, Consignees, Products, Storesï¼‰
- [x] ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½
- [x] Wranglerè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

### Phase 4: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… âœ…å®Œäº†

#### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½
- [x] çµ±è¨ˆã‚«ãƒ¼ãƒ‰è¡¨ç¤ºï¼ˆæ³¨æ–‡æ•°ãƒ»å£²ä¸Šãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ä»¶æ•°ï¼‰
- [x] æœ€è¿‘ã®æ³¨æ–‡ãƒªã‚¹ãƒˆï¼ˆæœ€æ–°5ä»¶è¡¨ç¤ºï¼‰
- [x] ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- [x] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

#### æ³¨æ–‡ç®¡ç†æ©Ÿèƒ½
- [x] DataGridä½¿ç”¨ã®æ³¨æ–‡ä¸€è¦§
- [x] ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆå…¨ã¦ãƒ»å—ä»˜ãƒ»å‡¦ç†ä¸­ãƒ»å®Œäº†ãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
- [x] æ¤œç´¢æ©Ÿèƒ½ï¼ˆæ³¨æ–‡ç•ªå·ãƒ»è·ä¸»åãƒ»é€ä»˜å…ˆåï¼‰
- [x] æ–°è¦æ³¨æ–‡ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆReact Hook Form + Yup ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- [x] ç·¨é›†ãƒ»å°åˆ·ãƒ»å‰Šé™¤ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå°åˆ·ã¯ãƒ¤ãƒãƒˆB2 APIå¾…ã¡ï¼‰

#### ãƒã‚¹ã‚¿ç®¡ç†æ©Ÿèƒ½
- [x] è·ä¸»ç®¡ç†ï¼ˆä¸€è¦§è¡¨ç¤ºãƒ»ç·¨é›†ãƒªãƒ³ã‚¯ï¼‰
- [x] é€ä»˜å…ˆç®¡ç†ï¼ˆé…é€æŒ‡ç¤ºãƒ»å¸Œæœ›æ™‚é–“è¡¨ç¤ºï¼‰
- [x] å•†å“ç®¡ç†ï¼ˆä¾¡æ ¼ãƒ»é‡é‡ãƒ»ç ´ææ³¨æ„ãƒ»ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤ºï¼‰
- [x] é›†é…æ‰€ç®¡ç†ï¼ˆãƒ¤ãƒãƒˆé‹è¼¸å„æ”¯åº—ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã‚¨ãƒªã‚¢ãƒ»ç· åˆ‡æ™‚é–“ï¼‰

### Phase 5: ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãƒ»é–‹ç™ºç’°å¢ƒæ•´å‚™ âœ…å®Œäº†
- [x] è±Šå¯Œãªãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ä½œæˆï¼ˆä½æ‰€5ä»¶ãƒ»è·ä¸»3ä»¶ãƒ»é€ä»˜å…ˆ3ä»¶ãƒ»å•†å“4ä»¶ãƒ»é›†é…æ‰€3ä»¶ãƒ»æ³¨æ–‡5ä»¶ï¼‰
- [x] å…¨ãƒšãƒ¼ã‚¸ã§ã®ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿é©ç”¨
- [x] é–‹ç™ºç”¨ç’°å¢ƒå¤‰æ•°è¨­å®šï¼ˆ.env.localï¼‰
- [x] TypeScriptè¨­å®šãƒ»ãƒ‘ã‚¹ã‚¨ã‚¤ãƒªã‚¢ã‚¹è¨­å®š
- [x] ESLintãƒ»Gitè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ

### Phase 6: ä½æ‰€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ãƒ»éƒµä¾¿ç•ªå·APIå®Ÿè£… âœ…å®Œäº†
- [x] å…±é€šAddressFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆï¼ˆéƒµä¾¿ç•ªå·è‡ªå‹•è£œå®Œæ©Ÿèƒ½ä»˜ãï¼‰
- [x] è·ä¸»ãƒ»é€ä»˜å…ˆä½œæˆãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…ï¼ˆShipperForm / ConsigneeFormï¼‰
- [x] æ—¥æœ¬éƒµä¾¿APIã®OAuth 2.0èªè¨¼ãƒ•ãƒ­ãƒ¼å®Ÿè£…
- [x] CloudFlare WorkersçµŒç”±ã§ã®éƒµä¾¿ç•ªå·æ¤œç´¢APIå®Ÿè£…ï¼ˆCORSå›é¿ï¼‰
- [x] ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½å®Ÿè£…
- [x] Viteãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰-Workersé€£æº

### Phase 7: TypeScriptå®Œå…¨ç§»è¡Œãƒ»APIæ‹¡å…… âœ…å®Œäº†
- [x] CloudFlare Pages Functions JavaScript â†’ TypeScriptå®Œå…¨ç§»è¡Œ
- [x] `functions/types.ts` å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆD1, Pages Functionsï¼‰
- [x] å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£APIå®Ÿè£…ï¼ˆShippers, Consignees, Products, Storesï¼‰
- [x] å‹å®‰å…¨ãªAPIè¨­è¨ˆï¼ˆstrict TypeScript + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰
- [x] Address JOINã‚¯ã‚¨ãƒªå¯¾å¿œï¼ˆè·ä¸»ãƒ»é€ä»˜å…ˆç®¡ç†ï¼‰
- [x] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å…¨APIå¯¾å¿œ
- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¿½åŠ ã€ã‚¯ã‚¨ãƒªæ”¹å–„ï¼‰

### Phase 8: æ—¥æœ¬éƒµä¾¿APIçµ±åˆãƒ»éƒµä¾¿ç•ªå·æ¤œç´¢æ©Ÿèƒ½ âœ…å®Œäº†
- [x] CloudFlare Pages Function ã«ã‚ˆã‚‹éƒµä¾¿ç•ªå·æ¤œç´¢APIå®Ÿè£…
- [x] æ—¥æœ¬éƒµä¾¿å…¬å¼APIçµ±åˆï¼ˆOAuth 2.0èªè¨¼ã€ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†ï¼‰
- [x] å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚° `/api/postal/search/[zipcode]` å®Ÿè£…
- [x] éƒµä¾¿ç•ªå·ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ7æ¡æ•°å­—å½¢å¼ãƒã‚§ãƒƒã‚¯ï¼‰
- [x] ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ï¼ˆAPIéšœå®³æ™‚ã®å®‰å…¨ãªå‹•ä½œï¼‰
- [x] è©³ç´°ä½æ‰€æƒ…å ±å–å¾—ï¼ˆéƒ½é“åºœçœŒã€å¸‚åŒºç”ºæ‘ã€ç”ºåã€èª­ã¿ä»®åã€ãƒ­ãƒ¼ãƒå­—ï¼‰
- [x] ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹èªè¨¼æƒ…å ±ç®¡ç†
- [x] æœ¬ç•ªç’°å¢ƒã§ã®å‹•ä½œç¢ºèªï¼ˆå®Ÿéš›ã®ä½æ‰€ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸï¼‰

### Phase 9: æ–°è¦ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ï¼ˆPOST APIé€£æºï¼‰âœ…å®Œäº†
- [x] ShipperForm POST APIé€£æºå®Ÿè£…ï¼ˆè·ä¸»ä½œæˆï¼‰
- [x] ConsigneeForm POST APIé€£æºå®Ÿè£…ï¼ˆé€ä»˜å…ˆä½œæˆï¼‰
- [x] OrderForm POST APIé€£æºå®Ÿè£…ï¼ˆæ³¨æ–‡ä½œæˆï¼‰
- [x] åŒ…æ‹¬çš„ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [x] æˆåŠŸãƒ»å¤±æ•—æ™‚ã®é©åˆ‡ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
- [x] ä½œæˆå¾Œã®ç”»é¢é·ç§»ã¨çŠ¶æ…‹æ›´æ–°

### Phase 10: ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ï¼ˆSQLiteé€£æºï¼‰âœ…å®Œäº†
- [x] ãƒ­ãƒ¼ã‚«ãƒ«D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹ç¯‰ï¼ˆ`highlandirect-local`ï¼‰
- [x] ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç”¨CloudFlare Workerå®Ÿè£…ï¼ˆ`worker-local.js`ï¼‰
- [x] ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`wrangler-dev.toml`ï¼‰
- [x] Viteé–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã¨ãƒ­ãƒ¼ã‚«ãƒ«APIã®é€£æºè¨­å®š
- [x] ãƒ­ãƒ¼ã‚«ãƒ«SQLiteç’°å¢ƒã§ã®ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºç’°å¢ƒ
- [x] åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥ã¨ã‚¹ã‚­ãƒ¼ãƒé©ç”¨ã®è‡ªå‹•åŒ–
- [x] æœ¬ç•ªåŒç­‰ã®CRUDæ“ä½œã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§å®Ÿç¾

### Phase 11: ãµã‚ŠãŒãªè‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½å®Ÿè£… âœ…å®Œäº†
- [x] wanakanaãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œï¼‰
- [x] äººåãƒ»ä¼šç¤¾åç‰¹åŒ–ã®æ¼¢å­—â†’ã²ã‚‰ãŒãªè¾æ›¸ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
- [x] `src/utils/furigana.ts` ãµã‚ŠãŒãªç”Ÿæˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å®Ÿè£…
- [x] AddressFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½çµ±åˆ
- [x] æ°åãƒ»ä¼šç¤¾åå…¥åŠ›æ™‚ã®å³åº§ãµã‚ŠãŒãªå¤‰æ›
- [x] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤ºãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»æ‰‹å‹•ä¿®æ­£å¯¾å¿œ
- [x] ShipperFormãƒ»ConsigneeFormã§ã®åˆ©ç”¨é–‹å§‹

### Phase 12: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š âœ…å®Œäº†
- [x] ESLintã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å°å…¥ï¼ˆeslint-plugin-securityï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«è¨­å®šï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã€å±é™ºãªæ­£è¦è¡¨ç¾æ¤œå‡ºç­‰ï¼‰
- [x] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯å°‚ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¿½åŠ ï¼ˆ`npm run security-check`ï¼‰
- [x] Object injectionè„†å¼±æ€§ã®ä¿®æ­£ï¼ˆMapæ§‹é€ ã¸ã®å¤‰æ›´ï¼‰
- [x] å±é™ºãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®‰å…¨åŒ–
- [x] ç·åˆçš„ãªã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ä½“åˆ¶ã®ç¢ºç«‹

### Phase 13: æ³¨æ–‡ä½œæˆãƒ•ã‚©ãƒ¼ãƒ æ”¹å–„ãƒ»ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒå®Œæˆ âœ…å®Œäº†
- [x] OrderFormã§ã®Shipper/Consignee/Producté¸æŠæ©Ÿèƒ½å®Ÿè£…ï¼ˆAutocompleteãƒ»Selectï¼‰
- [x] React Queryã‚’ä½¿ç”¨ã—ãŸå…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£APIã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—
- [x] æ³¨æ–‡æ˜ç´°ç®¡ç†æ©Ÿèƒ½ï¼ˆè¤‡æ•°é€ä»˜å…ˆå¯¾å¿œã€å‹•çš„è¿½åŠ ãƒ»å‰Šé™¤ï¼‰
- [x] è·ä¸»é¸æŠæ™‚ã®é€ä»˜å±¥æ­´è¡¨ç¤ºãƒ»ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯æ˜ç´°è¿½åŠ 
- [x] å„æ˜ç´°ãƒ¬ãƒ™ãƒ«ã§ã®è©³ç´°ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [x] è¤‡æ•°æ³¨æ–‡ã®ä¸¦è¡Œä½œæˆå‡¦ç†ï¼ˆPromise.allï¼‰
- [x] ãƒ­ãƒ¼ã‚«ãƒ«APIã‚µãƒ¼ãƒãƒ¼ï¼ˆworker-local.jsï¼‰å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒ«ãƒ¼ãƒˆå®Ÿè£…
- [x] MUI DataGridã®ãƒ¦ãƒ‹ãƒ¼ã‚¯IDå•é¡Œä¿®æ­£ï¼ˆgetRowIdï¼‰
- [x] APIãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã®ä¿®æ­£ï¼ˆAddress.Name â†’ Nameï¼‰
- [x] å•†å“ãƒ‡ãƒ¼ã‚¿ã‚’æœç‰©ã«å¤‰æ›´ï¼ˆã‚Šã‚“ã”ãƒ»æ¡ƒã®5kgãƒ»10kgã€åˆæœŸãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°ï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰-APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé€£æºã®å®Œå…¨å®Ÿè£…

### Phase 14: éƒµä¾¿ç•ªå·æ¤œç´¢çµ±åˆãƒ»UIæ”¹å–„ âœ…å®Œäº†
- [x] AddressFormã«éƒµä¾¿ç•ªå·æ¤œç´¢APIçµ±åˆæ¸ˆã¿ç¢ºèª
- [x] postalCodeApi.tsã®APIãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ä¿®æ­£ï¼ˆæœ¬ç•ªç’°å¢ƒå¯¾å¿œï¼‰
- [x] ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒAPIãƒ¬ã‚¹ãƒãƒ³ã‚¹æ§‹é€ ã‚’æœ¬ç•ªç’°å¢ƒã¨çµ±ä¸€
- [x] ShipperFormãƒ»ConsigneeFormã§ã®éƒµä¾¿ç•ªå·æ¤œç´¢å‹•ä½œç¢ºèª
- [x] ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ»éãƒ¢ãƒƒã‚¯ä¸¡å¯¾å¿œã®ç¢ºèªï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ï¼‰
- [x] MUI DataGrid OrderIDå•é¡Œä¿®æ­£ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ»æœ¬ç•ªç’°å¢ƒçµ±ä¸€ï¼‰
- [x] 7æ¡è‡ªå‹•æ¤œç´¢ãƒ»æ‰‹å‹•æ¤œç´¢ãƒœã‚¿ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™
- [x] ä½æ‰€è‡ªå‹•å…¥åŠ›æ©Ÿèƒ½ï¼ˆéƒ½é“åºœçœŒãƒ»å¸‚åŒºç”ºæ‘ãƒ»ä½æ‰€1ï¼‰å®Œå…¨å‹•ä½œ

### Phase 15: è·ä¸»ãƒ»é€ä»˜å…ˆç·¨é›†æ©Ÿèƒ½å®Ÿè£… âœ…å®Œäº†
- [x] å€‹åˆ¥å–å¾—APIå®Ÿè£…ï¼ˆGET /api/shippers/:id, GET /api/consignees/:idï¼‰
- [x] æ›´æ–°APIå®Ÿè£…ï¼ˆPUT /api/shippers/:id, PUT /api/consignees/:idï¼‰
- [x] CloudFlare Pages Functionså‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å¯¾å¿œï¼ˆ[id].tsï¼‰
- [x] ShipperFormç·¨é›†ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆæ—¢å­˜ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ãƒ»PUT APIé€£æºï¼‰
- [x] ConsigneeFormç·¨é›†ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆæ—¢å­˜ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ãƒ»PUT APIé€£æºï¼‰
- [x] React Queryä½¿ç”¨ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
- [x] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…
- [x] ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ï¼ˆworker-local.jsï¼‰å‹•çš„ãƒ«ãƒ¼ãƒˆè¿½åŠ 
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚«ãƒ©ãƒ åçµ±ä¸€ï¼ˆDeliveryInstruction â†’ DeliveryInstructionsï¼‰
- [x] ç·¨é›†å¾Œã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡åŠ¹åŒ–ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- [x] Address + Shipper/Consigneeãƒ†ãƒ¼ãƒ–ãƒ«ä¸¡æ–¹ã®æ›´æ–°å‡¦ç†
- [x] ç·¨é›†æ©Ÿèƒ½ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»å‹•ä½œç¢ºèª

### Phase 16: Order ãƒ¢ãƒ‡ãƒ«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒ»æ­£è¦åŒ–å®Ÿè£… âœ…å®Œäº†ï¼ˆ2025å¹´8æœˆ13æ—¥ï¼‰
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆå¤‰æ›´ï¼ˆOrder+OrderDetailåˆ†é›¢ï¼‰
- [x] æ—¢å­˜Orderå˜ä½“ãƒ†ãƒ¼ãƒ–ãƒ« â†’ Orderï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰+ OrderDetailï¼ˆæ˜ç´°ï¼‰æ­£è¦åŒ–æ§‹é€ 
- [x] TypeScriptå‹å®šç¾©å®Œå…¨æ›´æ–°ï¼ˆOrderã€OrderDetailã€OrderDetailForm ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼‰
- [x] CloudFlare Pages Functions APIå®Œå…¨å†æ§‹ç¯‰
  - [x] GET /api/orders - Order+OrderDetail JOIN ã‚¯ã‚¨ãƒªå®Ÿè£…
  - [x] POST /api/orders - ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ï¼ˆOrderä½œæˆ + è¤‡æ•°OrderDetailä¸¦è¡ŒæŒ¿å…¥ï¼‰
  - [x] PUT /api/orders/:id - åŸºæœ¬æƒ…å ±æ›´æ–°ï¼ˆOrderDate, TrackingNumberï¼‰
  - [x] é›†ç´„å€¤è‡ªå‹•è¨ˆç®—ï¼ˆOrderTotal, ItemCountï¼‰
- [x] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ OrderList ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ›´æ–°
  - [x] é›†ç´„æƒ…å ±è¡¨ç¤ºï¼ˆOrderTotal, ItemCount, é€ä»˜å…ˆæ•°ï¼‰
  - [x] æ¤œç´¢æ©Ÿèƒ½æ‹¡å¼µï¼ˆOrderDetailå†…ã®ConsigneeNameã€ProductNameå¯¾å¿œï¼‰
  - [x] MUI DataGrid `getRowId={(row) => row.OrderId}` è¨­å®šæ¸ˆã¿
- [x] ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒï¼ˆworker-local.jsï¼‰å®Œå…¨å¯¾å¿œ
  - [x] Order+OrderDetailæ§‹é€ ã®å…¨APIå®Ÿè£…
  - [x] JOIN ã‚¯ã‚¨ãƒªãƒ»ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ãƒ»é›†ç´„è¨ˆç®—
- [x] åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆãƒ»å‹•ä½œç¢ºèª
  - [x] ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒï¼šæ–°è¦Orderä½œæˆãƒ»ç·¨é›†ãƒ»è¡¨ç¤ºã®å…¨æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆå®Œäº†
  - [x] æœ¬ç•ªç’°å¢ƒï¼šãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒç§»è¡Œãƒ»ãƒ‡ãƒ¼ã‚¿å¾©æ—§å®Œäº†
  - [x] æ—¢å­˜3ä»¶ã®Order â†’ æ–°Order+OrderDetailæ§‹é€ ã¸ç„¡æå¤±ç§»è¡Œ
- [x] æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç§»è¡Œä½œæ¥­ï¼ˆ2025å¹´8æœˆ13æ—¥å®Ÿæ–½ï¼‰
  - [x] æ—¢å­˜Order ãƒ†ãƒ¼ãƒ–ãƒ« â†’ Order_backup ã¸ãƒªãƒãƒ¼ãƒ 
  - [x] æ–°Order ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆï¼ˆæ­£è¦åŒ–ã‚¹ã‚­ãƒ¼ãƒï¼‰
  - [x] æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ â†’ æ–°Order+OrderDetailæ§‹é€ ã¸ç§»è¡Œ
  - [x] OrderDetailå¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ä¿®æ­£ï¼ˆOrder_backup â†’ Orderå‚ç…§ã‚¨ãƒ©ãƒ¼è§£æ±ºï¼‰
  - [x] 5ä»¶ã®OrderDetail ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆãƒ»ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºä¿
  - [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆãƒ»ãƒˆãƒªã‚¬ãƒ¼è¨­å®š
- [x] MUI DataGrid ã‚¨ãƒ©ãƒ¼è§£æ±º
  - [x] OrderDetail ãƒ‡ãƒ¼ã‚¿æ¬ æå•é¡Œã®ç‰¹å®šãƒ»è§£æ±º
  - [x] production API ã§å…¨Order ã« OrderDetails ãŒæ­£å¸¸è¡¨ç¤º
  - [x] https://highlandirectweb.pages.dev/orders æ­£å¸¸å‹•ä½œç¢ºèª

## ç¾åœ¨ã®çŠ¶æ…‹ï¼ˆ2025å¹´8æœˆ13æ—¥æ™‚ç‚¹ï¼‰

### ğŸš€ æœ¬ç•ªç¨¼åƒä¸­
- **Live URL**: https://highlandirectweb.pages.dev/
- **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: GitHubãƒ—ãƒƒã‚·ãƒ¥ã§è‡ªå‹•æ›´æ–°

### âœ… å®Œå…¨å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½
1. **CloudFlare D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: æœ¬ç•ªé‹ç”¨ä¸­
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: `highlandirect-db` 
   - ã‚¹ã‚­ãƒ¼ãƒ: 8ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆAddress, Shipper, Consignee, ProductMaster, Store, Order, OrderDetail, ReportMemoï¼‰
   - æ­£è¦åŒ–æ§‹é€ : Orderï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰+ OrderDetailï¼ˆæ˜ç´°ï¼‰åˆ†é›¢æ¸ˆã¿
   - åˆæœŸãƒ‡ãƒ¼ã‚¿: 5ä»¶ã®æ³¨æ–‡ï¼ˆOrderï¼‰+ å¯¾å¿œOrderDetail + é–¢é€£ãƒ‡ãƒ¼ã‚¿

2. **ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯API**: CloudFlare Pages Functionsï¼ˆTypeScriptå®Œå…¨ç§»è¡Œæ¸ˆã¿ï¼‰
   - `/api/health` - ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
   - `/api/orders` - æ³¨æ–‡ç®¡ç†ï¼ˆGET/POSTã€Order+OrderDetailæ§‹é€ ã€é›†ç´„è¨ˆç®—ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
   - `/api/orders/:id` - å€‹åˆ¥æ³¨æ–‡æ“ä½œï¼ˆGET/PUTã€OrderDetailè¾¼ã¿å–å¾—ãƒ»åŸºæœ¬æƒ…å ±æ›´æ–°ï¼‰
   - `/api/shippers` - è·ä¸»ç®¡ç†ï¼ˆGET/POSTã€Address JOINã€æ¤œç´¢æ©Ÿèƒ½ï¼‰
   - `/api/shippers/:id` - è·ä¸»å€‹åˆ¥æ“ä½œï¼ˆGET/PUTã€ç·¨é›†æ©Ÿèƒ½å¯¾å¿œï¼‰
   - `/api/consignees` - é€ä»˜å…ˆç®¡ç†ï¼ˆGET/POSTã€Address JOINã€æ¤œç´¢æ©Ÿèƒ½ï¼‰
   - `/api/consignees/:id` - é€ä»˜å…ˆå€‹åˆ¥æ“ä½œï¼ˆGET/PUTã€ç·¨é›†æ©Ÿèƒ½å¯¾å¿œï¼‰
   - `/api/products` - å•†å“ç®¡ç†ï¼ˆGET/POSTã€ã‚«ãƒ†ã‚´ãƒªãƒ•ã‚£ãƒ«ã‚¿ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ•ã‚£ãƒ«ã‚¿ï¼‰
   - `/api/stores` - é›†é…æ‰€ç®¡ç†ï¼ˆGET/POSTã€é‹é€æ¥­è€…ãƒ•ã‚£ãƒ«ã‚¿ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚¨ãƒªã‚¢æ¤œç´¢ï¼‰
   - `/api/postal/search/[zipcode]` - éƒµä¾¿ç•ªå·æ¤œç´¢ï¼ˆæ—¥æœ¬éƒµä¾¿APIã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å¯¾å¿œï¼‰
   - CORSå¯¾å¿œã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Œå‚™ã€å‹å®‰å…¨ä¿è¨¼

3. **React ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: 
   - **æ³¨æ–‡ç®¡ç†**: Order+OrderDetail æ­£è¦åŒ–æ§‹é€ å¯¾å¿œå®Œäº†ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ CRUDã€é«˜åº¦ãªæ³¨æ–‡ä½œæˆãƒ•ã‚©ãƒ¼ãƒ ï¼‰
   - **æ³¨æ–‡ä¸€è¦§ï¼ˆOrderListï¼‰**: é›†ç´„æƒ…å ±è¡¨ç¤ºï¼ˆOrderTotal, ItemCount, é€ä»˜å…ˆæ•°ï¼‰ã€OrderDetailæ¨ªæ–­æ¤œç´¢
   - **æ³¨æ–‡ä½œæˆãƒ•ã‚©ãƒ¼ãƒ **: Shipper/Consignee/Producté¸æŠã€è¤‡æ•°æ˜ç´°å¯¾å¿œã€è·ä¸»å±¥æ­´é€£æº
   - **æ³¨æ–‡ç·¨é›†**: å€‹åˆ¥Orderå–å¾—ãƒ»åŸºæœ¬æƒ…å ±æ›´æ–°ï¼ˆOrderDate, TrackingNumberï¼‰
   - **è·ä¸»ç®¡ç†**: APIé€£æºå®Œäº†ï¼ˆæ¤œç´¢ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãƒ»ç·¨é›†æ©Ÿèƒ½ï¼‰
   - **é€ä»˜å…ˆç®¡ç†**: APIé€£æºå®Œäº†ï¼ˆæ¤œç´¢ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãƒ»ç·¨é›†æ©Ÿèƒ½ï¼‰
   - **å•†å“ç®¡ç†**: APIé€£æºå®Œäº†ï¼ˆæœç‰©å•†å“å¯¾å¿œã€æ¤œç´¢ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
   - **é›†é…æ‰€ç®¡ç†**: APIé€£æºå®Œäº†ï¼ˆæ¤œç´¢ãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
   - **ãµã‚ŠãŒãªè‡ªå‹•ç”Ÿæˆ**: æ°åãƒ»ä¼šç¤¾åå…¥åŠ›æ™‚ã®å³åº§å¤‰æ›ï¼ˆwanakana + è¾æ›¸ã‚·ã‚¹ãƒ†ãƒ ï¼‰
   - **éƒµä¾¿ç•ªå·æ¤œç´¢çµ±åˆ**: AddressFormã«å®Œå…¨çµ±åˆï¼ˆ7æ¡è‡ªå‹•æ¤œç´¢ãƒ»æ‰‹å‹•æ¤œç´¢ãƒœã‚¿ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ä½æ‰€è‡ªå‹•å…¥åŠ›ï¼‰
   - **ç·¨é›†æ©Ÿèƒ½**: è·ä¸»ãƒ»é€ä»˜å…ˆã®æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ç·¨é›†ï¼ˆãƒ•ã‚©ãƒ¼ãƒ è‡ªå‹•èª­ã¿è¾¼ã¿ãƒ»æ›´æ–°ãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰
   - **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: çµ±è¨ˆè¡¨ç¤º
   - **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–UI**: å…¨ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œ

4. **é–‹ç™ºãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤ç’°å¢ƒ**:
   - **æœ¬ç•ªç’°å¢ƒ**: CloudFlare Pages + D1 (è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã€GitHub Actions CI/CD)
   - **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ**: ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯å¯¾å¿œï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ + API + SQLiteï¼‰
   - **ã‚³ãƒ¼ãƒ‰å“è³ªç®¡ç†**: TypeScript strict modeã€ESLintï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å«ã‚€ï¼‰ã€è‡ªå‹•å‹ãƒã‚§ãƒƒã‚¯

### ğŸ“Š å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ï¼ˆOrder+OrderDetailæ§‹é€ ï¼‰
- **Order #1**: æ±äº¬å•†äº‹æ ªå¼ä¼šç¤¾ï¼ˆ2024-01-15ã€ç·é¡Â¥930ã€1ç‚¹ï¼‰
  - OrderDetail: å±±ç”°å¤ªéƒ â†’ å®…æ€¥ä¾¿60ã‚µã‚¤ã‚º Ã— 1ç‚¹ï¼ˆÂ¥930ï¼‰
- **Order #2**: å¤§é˜ªå·¥æ¥­æ ªå¼ä¼šç¤¾ï¼ˆ2024-01-16ã€ç·é¡Â¥3,300ã€2ç‚¹ï¼‰  
  - OrderDetail: å¤§é˜ªå·¥æ¥­æ ªå¼ä¼šç¤¾ â†’ ã‚¯ãƒ¼ãƒ«å®…æ€¥ä¾¿ Ã— 2ç‚¹ï¼ˆÂ¥3,300ï¼‰
- **Order #3**: åå¤å±‹å•†ä¼šï¼ˆ2024-01-17ã€ç·é¡Â¥1,500ã€1ç‚¹ï¼‰
  - OrderDetail: å±±ç”°å¤ªéƒ â†’ å®…æ€¥ä¾¿100ã‚µã‚¤ã‚º Ã— 1ç‚¹ï¼ˆÂ¥1,500ï¼‰
- **Order #4-5**: ãƒ†ã‚¹ãƒˆæ³¨æ–‡ï¼ˆ2024-01-20ã€å„Â¥930ã€å„1ç‚¹ï¼‰
  - OrderDetail: å±±ç”°å¤ªéƒ â†’ å®…æ€¥ä¾¿60ã‚µã‚¤ã‚º Ã— 1ç‚¹ï¼ˆå„Â¥930ï¼‰

### ğŸ”„ APIå‹•ä½œç¢ºèª
```bash
# æ³¨æ–‡ä¸€è¦§å–å¾—ï¼ˆå®Ÿéš›ã®D1ãƒ‡ãƒ¼ã‚¿ï¼‰
curl "https://highlandirectweb.pages.dev/api/orders?page=1&limit=10"

# æ–°è¦æ³¨æ–‡ä½œæˆï¼ˆOrder+OrderDetailæ§‹é€ ã€D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«æ°¸ç¶šåŒ–ï¼‰
curl -X POST https://highlandirectweb.pages.dev/api/orders \
  -H "Content-Type: application/json" \
  -d '{"OrderDate":"2024-01-20","ShipperId":1,"StoreId":1,"OrderDetails":[{"ConsigneeId":1,"ProductId":1,"Quantity":1,"UnitPrice":930}]}'

# è·ä¸»å€‹åˆ¥å–å¾—ãƒ»æ›´æ–°ï¼ˆç·¨é›†æ©Ÿèƒ½ï¼‰
curl "https://highlandirectweb.pages.dev/api/shippers/1"  # å€‹åˆ¥å–å¾—
curl -X PUT "https://highlandirectweb.pages.dev/api/shippers/1" \
  -H "Content-Type: application/json" \
  -d '{"Name":"æ›´æ–°ã•ã‚ŒãŸè·ä¸»å","CreditLimit":1500000}'  # æ›´æ–°

# é€ä»˜å…ˆå€‹åˆ¥å–å¾—ãƒ»æ›´æ–°ï¼ˆç·¨é›†æ©Ÿèƒ½ï¼‰
curl "https://highlandirectweb.pages.dev/api/consignees/1"  # å€‹åˆ¥å–å¾—
curl -X PUT "https://highlandirectweb.pages.dev/api/consignees/1" \
  -H "Content-Type: application/json" \
  -d '{"Name":"æ›´æ–°ã•ã‚ŒãŸé€ä»˜å…ˆå","DeliveryInstructions":"æ–°ã—ã„é…é€æŒ‡ç¤º"}'  # æ›´æ–°

# éƒµä¾¿ç•ªå·æ¤œç´¢ï¼ˆæ—¥æœ¬éƒµä¾¿APIé€£æºï¼‰
curl "https://highlandirectweb.pages.dev/api/postal/search/1000005"  # æ±äº¬éƒ½åƒä»£ç”°åŒºä¸¸ã®å†…
curl "https://highlandirectweb.pages.dev/api/postal/search/3812204"  # é•·é‡çœŒé•·é‡å¸‚çœŸå³¶ç”ºçœŸå³¶
```

### ğŸ”œ æ¬¡æœŸå®Ÿè£…äºˆå®š
1. **ãƒ¤ãƒãƒˆB2 API**: å°åˆ·æ©Ÿèƒ½ï¼ˆé…é€ãƒ©ãƒ™ãƒ«å°åˆ·ï¼‰
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼**: æ¨©é™ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
3. **è«‹æ±‚æ›¸ä½œæˆãƒ»PDFå‡ºåŠ›æ©Ÿèƒ½**: æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è«‹æ±‚æ›¸ã‚’è‡ªå‹•ç”Ÿæˆ

## ğŸ† æŠ€è¡“çš„é”æˆ
- **å®Œå…¨ãªãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³**
- **ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹æ§‹æˆ**: CloudFlare Pages + D1 + Functions
- **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«è¨­è¨ˆ**: ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚° + ã‚°ãƒ­ãƒ¼ãƒãƒ«CDN
- **å‹å®‰å…¨**: TypeScript + å³å¯†ãªAPIå‹å®šç¾©
- **é«˜é€Ÿé–‹ç™º**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ + è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

## ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ–¹æ³•

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º
```bash
npm install
npm run dev          # ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ â†’ http://localhost:3000
npm run build        # æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run type-check   # TypeScriptå‹ãƒã‚§ãƒƒã‚¯
npm run lint         # ESLintå®Ÿè¡Œ
```

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
```bash
# D1ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆï¼ˆåˆå›ã®ã¿ï¼‰
npx wrangler d1 create highlandirect-db

# ã‚¹ã‚­ãƒ¼ãƒãƒ»ãƒ‡ãƒ¼ã‚¿æŠ•å…¥ï¼ˆãƒªãƒ¢ãƒ¼ãƒˆï¼‰
npx wrangler d1 execute highlandirect-db --file=migration/schema.sql --remote
npx wrangler d1 execute highlandirect-db --file=migration/seed.sql --remote

# ãƒ‡ãƒ¼ã‚¿ç¢ºèª
npx wrangler d1 execute highlandirect-db --command="SELECT COUNT(*) FROM 'Order'" --remote
```

### ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
git add .
git commit -m "Update message"
git push origin main  # è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ â†’ CloudFlare Pages
```

## Key Files for Development

### Configuration Files
- `wrangler.toml` - CloudFlare D1 database configuration
- `vite.config.ts` - Frontend build configuration with path aliases
- `tsconfig.json` - TypeScript configuration (strict mode)
- `package.json` - Dependencies and scripts
- `.github/workflows/deploy.yml` - GitHub Actions CI/CD

### Core Architecture Files
- `functions/types.ts` - CloudFlare D1 and Pages Functions type definitions
- `functions/api/orders.ts` - Orders API with D1 database integration
- `functions/api/health.ts` - Health check endpoint
- `functions/api/shippers.ts` - Shippers API with Address JOIN
- `functions/api/shippers/[id].ts` - Individual shipper operations (GET/PUT for editing)
- `functions/api/consignees.ts` - Consignees API with Address JOIN
- `functions/api/consignees/[id].ts` - Individual consignee operations (GET/PUT for editing)
- `functions/api/products.ts` - Products API with filtering
- `functions/api/stores.ts` - Stores API with carrier filtering
- `functions/api/postal/search/[zipcode].ts` - Japan Post API integration for postal code lookup
- `src/pages/Orders/OrderList.tsx` - Orders page with API integration
- `src/pages/Shippers/ShipperForm.tsx` - Shipper creation/editing form with edit mode support
- `src/pages/Consignees/ConsigneeForm.tsx` - Consignee creation/editing form with edit mode support
- `src/components/AddressForm.tsx` - Address form with furigana auto-generation and postal code search integration
- `src/utils/furigana.ts` - Furigana generation utility (wanakana + dictionary)
- `src/utils/postalCodeApi.ts` - Postal code search utility with Japan Post API integration
- `src/api/client.ts` - Frontend API client
- `src/types/index.ts` - Complete TypeScript definitions
- `worker-local.js` - Local development server with all API routes including dynamic routing
- `migration/schema.sql` - D1 database schema
- `migration/seed.sql` - Initial data
- `migration/performance_indexes.sql` - Database performance optimization

### Production Environment
- **Live URL**: https://highlandirectweb.pages.dev/
- **Database**: CloudFlare D1 `highlandirect-db` (remote)
- **API Endpoints**: `/api/health`, `/api/orders`, `/api/shippers`, `/api/shippers/:id`, `/api/consignees`, `/api/consignees/:id`, `/api/products`, `/api/stores`, `/api/postal/search/[zipcode]`
- **Auto-deploy**: GitHub push â†’ CloudFlare Pages
- Path alias `@/` configured to point to `src/`

## Development Roadmap

### ğŸš§ é«˜å„ªå…ˆåº¦ï¼ˆNext Sprintï¼‰
- [x] **TypeScriptå®Œå…¨ç§»è¡Œ**: CloudFlare Pages Functions JavaScript â†’ TypeScript
- [x] **å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£APIå®Ÿè£…**: Shippers, Consignees, Products, Stores ã®Pages Functionså®Ÿè£…å®Œäº†
- [x] **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æœ€é©åŒ–**: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹èª¿æ•´ã€ã‚¯ã‚¨ãƒªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„å®Œäº†
- [x] **æ—¥æœ¬éƒµä¾¿APIçµ±åˆ**: éƒµä¾¿ç•ªå·æ¤œç´¢æ©Ÿèƒ½ã®å®Œå…¨å®Ÿè£…ï¼ˆOAuthèªè¨¼ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½ï¼‰
- [x] **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰-APIé€£æº**: å…¨ãƒã‚¹ã‚¿ç®¡ç†ç”»é¢ã®APIé€£æºå®Œäº†ï¼ˆReact Queryã€æ¤œç´¢ã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- [x] **æ–°è¦ä½œæˆãƒ•ã‚©ãƒ¼ãƒ **: å…¨ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®POST APIé€£æºå®Œäº†ï¼ˆè·ä¸»ãƒ»é€ä»˜å…ˆãƒ»æ³¨æ–‡ä½œæˆï¼‰
- [x] **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒæ§‹ç¯‰**: ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºç’°å¢ƒï¼ˆSQLiteé€£æºï¼‰å®Œäº†
- [x] **æ³¨æ–‡ä½œæˆãƒ•ã‚©ãƒ¼ãƒ æ”¹å–„**: å®Ÿéš›ã®Shipper/Consignee/Producté¸æŠæ©Ÿèƒ½ï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é€£æºï¼‰å®Œäº†
- [x] **ä½æ‰€å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ çµ±åˆ**: éƒµä¾¿ç•ªå·æ¤œç´¢ã‚’ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«çµ±åˆï¼ˆ7æ¡è‡ªå‹•æ¤œç´¢ã€æ‰‹å‹•æ¤œç´¢ãƒœã‚¿ãƒ³ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã€ä½æ‰€è‡ªå‹•å…¥åŠ›å®Œäº†ï¼‰
- [x] **è·ä¸»ãƒ»é€ä»˜å…ˆç·¨é›†æ©Ÿèƒ½å®Ÿè£…**: å€‹åˆ¥å–å¾—ãƒ»æ›´æ–°APIã€ç·¨é›†ãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†å®Œäº†
- [x] **æ³¨æ–‡ç·¨é›†æ©Ÿèƒ½å®Ÿè£…**: å€‹åˆ¥æ³¨æ–‡å–å¾—ãƒ»æ›´æ–°APIã€ç·¨é›†ç”»é¢ã®ç©ºè¡¨ç¤ºå•é¡Œè§£æ±ºå®Œäº†
- [x] **Orderãƒ¢ãƒ‡ãƒ«ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: Orderãƒ¢ãƒ‡ãƒ«ã‚’Orderã¨OrderDetailã«åˆ†é›¢å®Œäº†ï¼ˆ100%å®Œäº†ï¼‰
  - [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒå†è¨­è¨ˆï¼ˆOrder+OrderDetailãƒ†ãƒ¼ãƒ–ãƒ«ã€OrderHistoryå‰Šé™¤ï¼‰
  - [x] æ­£è¦åŒ–ã•ã‚ŒãŸã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ä½œæˆãƒ»æŠ•å…¥
  - [x] TypeScriptå‹å®šç¾©æ›´æ–°ï¼ˆOrderã€OrderDetailã€OrderDetailFormï¼‰
  - [x] CloudFlare Pages Functions APIå†æ§‹ç¯‰ï¼ˆãƒã‚¹ãƒˆæ§‹é€ ã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ï¼‰
  - [x] OrderForm.tsxåŸºæœ¬ä¿®æ­£ï¼ˆå‹å®šç¾©ã€ç·¨é›†ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼‰
  - [x] ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¯ãƒ¼ã‚«ãƒ¼APIå®Œå…¨æ›´æ–°ï¼ˆworker-local.js Orderéƒ¨åˆ†ï¼‰
  - [x] OrderListè¡¨ç¤ºèª¿æ•´ï¼ˆé›†ç´„æƒ…å ±è¡¨ç¤ºã€æ–°APIæ§‹é€ å¯¾å¿œï¼‰
  - [x] åŒ…æ‹¬çš„å‹•ä½œãƒ†ã‚¹ãƒˆï¼ˆæ–°è¦ä½œæˆãƒ»ç·¨é›†ãƒ»è¡¨ç¤ºã®å…¨æ©Ÿèƒ½ï¼‰
  - [x] æœ¬ç•ªç’°å¢ƒãƒ‡ãƒ—ãƒ­ã‚¤ãƒ»å‹•ä½œç¢ºèªï¼ˆ2025å¹´8æœˆ13æ—¥å®Œäº†ï¼‰
  - [x] MUI DataGridã‚¨ãƒ©ãƒ¼è§£æ±ºï¼ˆOrderDetailå¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ä¿®æ­£ã€production ãƒ‡ãƒ¼ã‚¿å¾©æ—§ï¼‰
- [ ] å¾“å‰WPFã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã®ç§»è¡Œå‡¦ç†ä½œæˆ

### ğŸ¯ ä¸­å„ªå…ˆåº¦ï¼ˆFuture Featuresï¼‰
- [ ] **ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **: JWTèªè¨¼ + ãƒ­ãƒ¼ãƒ«ç®¡ç†
- [ ] **é…é€ãƒ©ãƒ™ãƒ«å°åˆ·**: ãƒ¤ãƒãƒˆB2 APIé€£æºã«ã‚ˆã‚‹é…é€ãƒ©ãƒ™ãƒ«å‡ºåŠ›

### ğŸŒŸ ä½å„ªå…ˆåº¦ï¼ˆLong-term Goalsï¼‰
- [ ] **è«‹æ±‚æ›¸ä½œæˆãƒ»PDFå‡ºåŠ›æ©Ÿèƒ½**: æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰è«‹æ±‚æ›¸ã‚’è‡ªå‹•ç”Ÿæˆ
- [ ] **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥**: WebSocket/Server-Sent Events
- [ ] **é…é€çŠ¶æ³è¿½è·¡**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…é€ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
- [ ] **ãƒ†ã‚¹ãƒˆç’°å¢ƒ**: Jest/Vitest + E2Eãƒ†ã‚¹ãƒˆ

## ç’°å¢ƒå¤‰æ•°è¨­å®š

### CloudFlare Pages ç’°å¢ƒå¤‰æ•°
ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ã‚’CloudFlare Pagesãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šã§è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

#### æ—¥æœ¬éƒµä¾¿APIï¼ˆéƒµä¾¿ç•ªå·æ¤œç´¢ï¼‰
```
JAPANPOST_API_HOST=api.da.pf.japanpost.jp
JAPANPOST_CLIENT_ID=[æ—¥æœ¬éƒµä¾¿ã‹ã‚‰æä¾›ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID]
JAPANPOST_CLIENT_SECRET=[æ—¥æœ¬éƒµä¾¿ã‹ã‚‰æä¾›ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ]
JAPANPOST_CLIENT_IP=[è¨±å¯ã•ã‚ŒãŸIPã‚¢ãƒ‰ãƒ¬ã‚¹]
```

**æ³¨æ„**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç”¨ã® `VITE_` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã¯ä¸è¦ã§ã™ã€‚CloudFlare Pages Functionsã§ã¯ç›´æ¥ç’°å¢ƒå¤‰æ•°åã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### ç’°å¢ƒå¤‰æ•°æ›´æ–°å¾Œã®ãƒ‡ãƒ—ãƒ­ã‚¤
ç’°å¢ƒå¤‰æ•°ã‚’å¤‰æ›´ã—ãŸå ´åˆã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§å¼·åˆ¶ãƒ‡ãƒ—ãƒ­ã‚¤ã§ãã¾ã™ï¼š
```bash
git commit --allow-empty -m "Trigger deployment for environment variable update"
git push origin main
```

## ãƒ†ã‚¹ãƒˆç’°å¢ƒ

ç¾åœ¨ã¯ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹éš›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¸Œæœ›ã™ã‚‹ãƒ†ã‚¹ãƒˆè¨­å®šï¼ˆJestã€Vitestç­‰ï¼‰ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚